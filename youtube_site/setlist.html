<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>配信セットリスト</title>
  <script src="js/setlist.js" defer></script>
  <link rel="stylesheet" href="css/styles.css">
  <script src="js/menu.js" defer></script>
</head>

<body>
<script>
  function extractYouTubeId(url) {
    try {
      const u = new URL(url);
      // youtu.be/ID
      if (u.hostname === 'youtu.be') return u.pathname.slice(1);
      // /watch?v=ID
      const v = u.searchParams.get('v'); if (v) return v;
      // /live/ID や /shorts/ID
      const parts = u.pathname.split('/').filter(Boolean);
      if (parts.length >= 2 && (parts[0] === 'live' || parts[0] === 'shorts')) return parts[1];
    } catch {}
    // 最後の砦：11文字並びを拾う
    const m = String(url).match(/[A-Za-z0-9_-]{11}/);
    return m ? m[0] : '';
  }
  function youtubeThumbFromUrl(url) {
    const id = extractYouTubeId(url);
    return id ? `https://i.ytimg.com/vi/${id}/hqdefault.jpg` : '';
  }
</script>
  <nav>
    <button id="menu-toggle">☰ メニュー</button>
    <div id="menu" class="menu hidden">
      <button onclick="location.href='index.html'">ようこそ</button>
      <button onclick="location.href='mugen.html'">FMツクリ∞</button>
      <button onclick="location.href='onePlay.html'">1配信再生</button>
      <button onclick="location.href='setlist.html'">セットリスト一覧</button>
      <button onclick="location.href='search.html'">楽曲検索</button>
      <button onclick="location.href='favorites.html'">お気に入り</button>
      <button onclick="location.href='wiki.html'">簡易Wiki</button>
    </div>
  </nav>
  <h1>セットリスト一覧</h1>
  <div id="thumbnail-container"></div>

  <div id="popup" class="popup">
    <button onclick="closePopup()">閉じる</button>
    <div id="popup-content"></div>
  </div>
</body>

</html>